<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8" />
  <title>é­šè¦èŸ¹ (å–®äººç‰ˆ)</title>
  <style>
    :root {
        --bg-color: #2c3e50;
        --board-bg: #34495e;
        --x-color: #e74c3c;
        --o-color: #3498db;
        --text-color: #ecf0f1;
        --accent-color: #f1c40f;
        --cell-size: 60px;
        --gap: 5px;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        min-height: 100vh;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        user-select: none;
        overflow-y: auto;
        padding: 20px 0;
    }

    h1 { margin: 10px 0; font-size: 1.8rem; }
    .subtitle { font-size: 0.9rem; opacity: 0.8; margin-bottom: 15px; }

    .game-container {
        background: var(--board-bg);
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        min-width: 280px;
        max-width: 400px;
    }

    .status-bar {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
        font-size: 0.95rem;
    }

    .message {
        padding: 5px 15px;
        background: rgba(0,0,0,0.2);
        border-radius: 20px;
        font-size: 0.95rem;
        color: var(--accent-color);
        min-height: 1.2em;
        text-align: center;
    }

    .money-info {
        font-size: 0.9rem;
        color: #bdc3c7;
    }

    /* ä¸‹æ³¨å€ */
    .bet-area {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        width: 100%;
    }

    .symbol-tile {
        background: rgba(0,0,0,0.2);
        border-radius: 8px;
        padding: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        cursor: pointer;
        transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
        border: 2px solid transparent;
    }

    .symbol-tile span.icon {
        font-size: 1.6rem;
    }

    .symbol-tile span.label {
        font-size: 0.9rem;
    }

    .symbol-tile span.bet {
        font-size: 0.8rem;
        color: var(--accent-color);
    }

    .symbol-tile:hover {
        background: rgba(255,255,255,0.06);
        transform: translateY(-1px);
    }

    .symbol-tile.active {
        border-color: var(--accent-color);
        box-shadow: 0 0 8px rgba(241,196,15,0.4);
    }

    /* æ§åˆ¶æŒ‰éˆ• */
    .controls-area {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
        width: 100%;
    }

    .top-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
    }

    .action-btn {
        padding: 8px 18px;
        border: none;
        border-radius: 5px;
        font-size: 0.95rem;
        cursor: pointer;
        transition: transform 0.1s, background 0.2s, color 0.2s;
        font-weight: bold;
    }

    .btn-roll { background-color: var(--o-color); color: #fff; }
    .btn-reset { background-color: #95a5a6; color: white; }

    .action-btn:hover:not(:disabled) {
        filter: brightness(1.05);
        transform: translateY(-1px);
    }
    .action-btn:active:not(:disabled) {
        transform: scale(0.96);
    }

    .action-btn:disabled {
        opacity: 0.4;
        cursor: not-allowed;
    }

    /* éª°å­é¡¯ç¤º */
    .dice-row {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 5px;
    }

    .dice-box {
        width: 60px;
        height: 60px;
        border-radius: 8px;
        background: rgba(0,0,0,0.25);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.6rem;
        box-shadow: inset 0 0 4px rgba(0,0,0,0.6);
    }

    .rules {
        font-size: 0.8rem;
        color: #bdc3c7;
        text-align: left;
        line-height: 1.4;
        width: 100%;
        margin-top: 5px;
    }

    @media (max-width: 400px) {
        :root { --cell-size: 50px; }
    }
  </style>
</head>
<body>
  <h1>é­šè¦èŸ¹</h1>
  <div class="subtitle">é¸åœ–æ¡ˆä¸‹æ³¨ï¼Œæ– 3 ç²’éª°ï¼Œçœ‹çœ‹ä»Šå¤©æ‰‹æ°£å¦‚ä½•ï¼</div>

  <div class="game-container">
    <div class="status-bar">
        <div id="message" class="message">å…ˆé»åœ–æ¡ˆä¸‹æ³¨ï¼Œå†æŒ‰ã€Œæ–éª°ã€ã€‚</div>
        <div id="money-info" class="money-info">è³‡é‡‘ï¼š100ã€€å–®æ³¨ï¼š10</div>
    </div>

    <div class="bet-area" id="bet-area">
      <!-- ç”¨æ–‡å­—ä»£æ›¿åœ–æ¡ˆï¼šé­šã€è¦ã€èŸ¹ã€é‡‘éŒ¢ã€è‘«è˜†ã€é› [web:29][web:32] -->
      <div class="symbol-tile" data-symbol="é­š">
        <span class="icon">ğŸŸ</span>
        <span class="label">é­š</span>
        <span class="bet">ä¸‹æ³¨ï¼š0</span>
      </div>
      <div class="symbol-tile" data-symbol="è¦">
        <span class="icon">ğŸ¦</span>
        <span class="label">è¦</span>
        <span class="bet">ä¸‹æ³¨ï¼š0</span>
      </div>
      <div class="symbol-tile" data-symbol="èŸ¹">
        <span class="icon">ğŸ¦€</span>
        <span class="label">èŸ¹</span>
        <span class="bet">ä¸‹æ³¨ï¼š0</span>
      </div>
      <div class="symbol-tile" data-symbol="é‡‘éŒ¢">
        <span class="icon">ğŸ’°</span>
        <span class="label">é‡‘éŒ¢</span>
        <span class="bet">ä¸‹æ³¨ï¼š0</span>
      </div>
      <div class="symbol-tile" data-symbol="è‘«è˜†">
        <span class="icon">ğŸ¶</span>
        <span class="label">è‘«è˜†</span>
        <span class="bet">ä¸‹æ³¨ï¼š0</span>
      </div>
      <div class="symbol-tile" data-symbol="é›">
        <span class="icon">ğŸ”</span>
        <span class="label">é›</span>
        <span class="bet">ä¸‹æ³¨ï¼š0</span>
      </div>
    </div>

    <div class="dice-row">
      <div class="dice-box" id="dice1">?</div>
      <div class="dice-box" id="dice2">?</div>
      <div class="dice-box" id="dice3">?</div>
    </div>

    <div class="controls-area">
      <div class="top-buttons">
        <button id="btn-roll" class="action-btn btn-roll">æ–éª°</button>
        <button id="btn-reset" class="action-btn btn-reset">é‡è¨­è³‡é‡‘ / ä¸‹æ³¨</button>
      </div>
      <div class="rules">
        åŸºæœ¬ç©æ³•ï¼ˆå–®ä¸€åœ–æ¡ˆï¼‰ï¼šé¸ä¸€å€‹æˆ–å¤šå€‹åœ–æ¡ˆï¼Œæ¯æ ¼æ¯æŒ‰ä¸€ä¸‹åŠ ä¸€æ³¨ã€‚<br>
        æ–å‡º 3 ç²’éª°ï¼š<br>
        â€§ æœ‰ä½ ä¸‹æ³¨çš„åœ–æ¡ˆï¼Œæ¯å‡ºç¾ 1 æ¬¡ï¼Œè³ ç‡ 1:1ï¼›2 æ¬¡ è³ ç‡ 2:1ï¼›3 æ¬¡ è³ ç‡ 3:1ã€‚<br>
        â€§ è‹¥è©²åœ–æ¡ˆå®Œå…¨æ²’å‡ºç¾ï¼Œè©²æ ¼ä¸‹æ³¨å…¨è¼¸ã€‚ [web:29][web:32][web:33]
      </div>
    </div>
  </div>

  <script>
    const symbols = ["é­š","è¦","èŸ¹","é‡‘éŒ¢","è‘«è˜†","é›"]; // [web:29][web:32]
    const symbolToEmoji = {
      "é­š": "ğŸŸ",
      "è¦": "ğŸ¦",
      "èŸ¹": "ğŸ¦€",
      "é‡‘éŒ¢": "ğŸ’°",
      "è‘«è˜†": "ğŸ¶",
      "é›": "ğŸ”"
    };

    let money = 100;
    let baseBet = 10;
    const bets = {
      "é­š": 0,
      "è¦": 0,
      "èŸ¹": 0,
      "é‡‘éŒ¢": 0,
      "è‘«è˜†": 0,
      "é›": 0
    };

    const messageEl = document.getElementById("message");
    const moneyInfoEl = document.getElementById("money-info");
    const betAreaEl = document.getElementById("bet-area");
    const btnRoll = document.getElementById("btn-roll");
    const btnReset = document.getElementById("btn-reset");
    const diceEls = [
      document.getElementById("dice1"),
      document.getElementById("dice2"),
      document.getElementById("dice3")
    ];

    function updateMoneyInfo() {
      moneyInfoEl.textContent = "è³‡é‡‘ï¼š" + money + "ã€€å–®æ³¨ï¼š" + baseBet;
    }

    function updateBetTiles() {
      const tiles = betAreaEl.querySelectorAll(".symbol-tile");
      tiles.forEach(tile => {
        const symbol = tile.getAttribute("data-symbol");
        const betSpan = tile.querySelector(".bet");
        const amount = bets[symbol];
        betSpan.textContent = "ä¸‹æ³¨ï¼š" + amount;
        if (amount > 0) {
          tile.classList.add("active");
        } else {
          tile.classList.remove("active");
        }
      });
    }

    function setMessage(text) {
      messageEl.textContent = text;
    }

    // ä¸‹æ³¨ï¼šé»ä¸€ä¸‹è©²åœ–æ¡ˆï¼Œå°±åŠ ä¸€å€‹ baseBetï¼Œå‰ææ˜¯æœ‰è¶³å¤ è³‡é‡‘
    betAreaEl.addEventListener("click", (e) => {
      const tile = e.target.closest(".symbol-tile");
      if (!tile) return;

      const symbol = tile.getAttribute("data-symbol");
      if (money < baseBet) {
        setMessage("è³‡é‡‘ä¸è¶³ï¼Œç„¡æ³•å†åŠ æ³¨ã€‚å¯æŒ‰ã€Œé‡è¨­ã€å›åˆ° 100ã€‚");
        return;
      }
      bets[symbol] += baseBet;
      money -= baseBet;
      updateMoneyInfo();
      updateBetTiles();
      setMessage("å·²åœ¨ã€Œ" + symbol + "ã€åŠ æ³¨ " + baseBet + "ã€‚");
    });

    function rollOneDie() {
      const idx = Math.floor(Math.random() * symbols.length);
      return symbols[idx];
    }

    btnRoll.addEventListener("click", () => {
      const totalBet = Object.values(bets).reduce((a,b) => a + b, 0);
      if (totalBet === 0) {
        setMessage("è«‹å…ˆå°ä»»æ„åœ–æ¡ˆä¸‹æ³¨ï¼Œå†æ–éª°ã€‚");
        return;
      }

      const results = [rollOneDie(), rollOneDie(), rollOneDie()];
      results.forEach((sym, i) => {
        diceEls[i].textContent = symbolToEmoji[sym];
      });

      // è¨ˆç®—æ¯å€‹åœ–æ¡ˆå‡ºç¾æ¬¡æ•¸
      const count = { "é­š":0,"è¦":0,"èŸ¹":0,"é‡‘éŒ¢":0,"è‘«è˜†":0,"é›":0 };
      results.forEach(sym => { count[sym]++; });

      let win = 0;
      symbols.forEach(sym => {
        const bet = bets[sym];
        if (bet > 0 && count[sym] > 0) {
          // å–®ä¸€åœ–æ¡ˆï¼šå‡ºç¾ n æ¬¡ è³ ç‡ n:1 [web:33][web:36]
          win += bet * count[sym];
        }
      });

      if (win > 0) {
        money += totalBet + win; // é€€å›æœ¬é‡‘ + çé‡‘
        setMessage("çµæœï¼š" + results.join("ã€") + "ã€€ä½ è´äº† " + win + "ï¼");
      } else {
        // æœ¬é‡‘å·²åœ¨ä¸‹æ³¨æ™‚æ‰£æ‰
        setMessage("çµæœï¼š" + results.join("ã€") + "ã€€å¯æƒœï¼Œæœ¬å±€å…¨è¼¸ã€‚");
      }

      // ä¸€å±€å¾Œæ¸…ç©ºä¸‹æ³¨
      symbols.forEach(sym => bets[sym] = 0);
      updateBetTiles();
      updateMoneyInfo();
    });

    btnReset.addEventListener("click", () => {
      money = 100;
      symbols.forEach(sym => bets[sym] = 0);
      diceEls.forEach(d => d.textContent = "?");
      updateBetTiles();
      updateMoneyInfo();
      setMessage("å·²é‡è¨­è³‡é‡‘åŠä¸‹æ³¨ï¼Œé‡æ–°é–‹å±€ã€‚");
    });

    // åˆå§‹åŒ–
    updateMoneyInfo();
    updateBetTiles();
    setMessage("å…ˆé»åœ–æ¡ˆä¸‹æ³¨ï¼Œå†æŒ‰ã€Œæ–éª°ã€ã€‚");
  </script>
</body>
</html>
